$('#products').html("<%= escape_javascript(render @products) %>");

// shorthand uses 'j' to escape_javascript
// i.e. $('#products').html("<%= j(render @products) %>");

add = str[12];
str.slice(0,-1)